HTTP, Flask
======================

[Скринкаст первой части лекции](http://www.youtube.com/watch?v=pOqNIscqKkk)

[Скринкаст второй части лекции](http://www.youtube.com/watch?v=dkrRTqVC3_U)

Что нужно установить
--------

[С прошлого раза](../03-python) у вас должен быть установлен pip. С его помощью поставьте flask:

    sudo pip3 install flask


План лекции
-------

1. TCP/IP. `nc`/`nc -l`: демонстрация пары сокетов. `ifconfig`, `ping`
2. Протокол HTTP. Запрос к Гуглу через `nc`
3. Вкладка Networks в Инструментах разработчика
3. Прикидываемся веб-сервером: ответ браузеру через `nc -l`
1. [Что происходит при загрузке страницы](http://friendlybit.com/css/rendering-a-web-page-step-by-step/)
2. [Реализация HTTP-протокола своими руками: веб-фреймворк на голых сокетах](https://github.com/vpavlenko/reinhardt)
4. `python3 -m http.server`
4. [Фреймворк Flask: routing, шаблоны. "Блог".](blog)


Задание
------

Напишите сервис "Сокращатель ссылок". Примеры таких сервисов: [http://gg.gg/](http://gg.gg/), [http://goo.gl/](http://goo.gl/).

Главный функционал:
- Пользователь вставляет ссылку, нажимает "Shorten". Его перенаправляю на страницу, где написано, какая короткая ссылка ему выделена.
- Сервер запоминает во внутренних структурах короткую ссылку. Когда к серверу обращаются по короткой ссылке, сервер отправляет редирект на сохраненный длинный урл.

Дополнения:
- Пользователь может придумать своё короткое имя для ссылки.
- Подумайте, зачем людям такой сервис, как они будут его использовать? Нужно ли дать им возможность быстрого копирования созданной ссылки: в один клик, в одно нажатие клавиш?
- Покажите на главной странице все ссылки, добавленные на сайт. Или только последние 10.

Решение задания выложите на гитхаб, добавьте ссылку [на вики-страничку](https://github.com/vpavlenko/web-programming/wiki/%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D1%8F-%D0%BA-%D0%B7%D0%B0%D0%BD%D1%8F%D1%82%D0%B8%D1%8E-4:-%D1%81%D0%BE%D0%BA%D1%80%D0%B0%D1%89%D0%B0%D1%82%D0%B5%D0%BB%D1%8C-%D1%81%D1%81%D1%8B%D0%BB%D0%BE%D0%BA).

Если сможете задеплоить в интернет самостоятельно, будет круто. Гуглить инструкции можно по словам "flask deploy". Истории успеха напишите на вики-страничке с решениями.


Материалы
-------------------
1. [Туториалы и документация к Фласку.](http://flask.pocoo.org/docs/0.10/)
2. [Маленькая статья про HTTP](http://habrahabr.ru/post/215117/)
3. RFC 2068 про HTTP 1.1: [оригинал на английском](https://www.ietf.org/rfc/rfc2068.txt), [русский перевод](http://www.lib.ru/WEBMASTER/rfc2068/)
4. [Wappalyzer - расширение для Хрома, которое показывает веб-технологии, задействованные на текущей страничке](https://wappalyzer.com/)
